import{k as y,j as e,r as o,i as q,B as x}from"./index-50ad91ff.js";import{P as N}from"./PageBreadcrumb-2adbd738.js";import{S as P}from"./Spinner-57400a8f.js";import"./Table-9e7095d0.js";import{F as c}from"./faq-50d69aae.js";import{R as B}from"./index-417bbafc.js";/* empty css                     */import{R as A}from"./Row-a90e51f1.js";import{C as m}from"./Col-6e802f16.js";import{C as b}from"./Card-4e1bc556.js";import{F as r}from"./Form-57b1e97c.js";import{B as j}from"./Button-cbb264fd.js";import"./Anchor-ceb627db.js";import"./Button-825b6efb.js";import"./index-8b12ee39.js";import"./createWithBsPrefix-d4ec82c8.js";import"./divWithClassName-189ef379.js";const E=()=>{const[n,F]=o.useState(!1),[u,p]=o.useState(""),[Q,C]=o.useState(""),[f,g]=o.useState(""),[h,l]=o.useState(!1),{id:i}=y(),v=q();o.useEffect(()=>{(async()=>{var d;if(i)try{const a=await c.getFAQDetails(i);(a==null?void 0:a.code)===200&&(C(a.data.id),p(a.data.question),g((d=a.data.answer)==null?void 0:d.replace(/&lt;/g,"<").replace(/&lt;/g,"<")))}catch(a){console.error("Error fetching category:",a)}})()},[i]);const w=async s=>{if(s.currentTarget.checkValidity()===!1)s.preventDefault(),s.stopPropagation();else{s.preventDefault(),l(!0);try{const a={question:u,answer:f},t=i?await c.updateFAQ(a,Q):await c.addFAQ(a);console.log("res",t==null?void 0:t.code),(t==null?void 0:t.code)===200?(l(!1),x.success(t==null?void 0:t.message),v("/faq")):((t==null?void 0:t.code)===400||(t==null?void 0:t.code)===401)&&x.error(t==null?void 0:t.message)}finally{l(!1)}}F(!0)},S={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{header:[!1,1,2,3,4,5,6]},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","image","video"],["clean"]]},k=s=>{g(s)};return e.jsx(b,{children:e.jsx(b.Body,{children:e.jsxs(r,{noValidate:!0,validated:n,onSubmit:w,children:[e.jsxs(A,{children:[e.jsx(m,{lg:12,children:e.jsxs(r.Group,{className:"mb-3",children:[e.jsx(r.Label,{children:"Question"}),e.jsx(r.Control,{type:"text",id:"validationCustom01",placeholder:"Question",name:"pageName",value:u,onChange:s=>p(s.target.value),required:!0}),e.jsx(r.Control.Feedback,{type:"invalid",children:"Please fill the Question."})]})}),e.jsxs(m,{lg:12,children:[e.jsx(r.Label,{children:"Answer"}),e.jsx(B,{modules:S,value:f,theme:"snow",style:{height:400},className:"pb-4 mb-2",onChange:k})]})]}),h?e.jsxs(j,{variant:"primary",disabled:!0,children:[e.jsx(P,{className:"spinner-border-sm",tag:"span",color:"white"})," ","Loading..."]}):e.jsx(j,{variant:"primary",type:"submit",disabled:h,children:"Submit"})]})})})},Z=()=>{const{id:n}=y();return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:n?"Edit FAQ":"Add FAQ",subName:"FAQ"}),e.jsx(A,{children:e.jsx(m,{lg:12,children:e.jsx(E,{})})})]})};export{Z as default};
