import{r as i,B as r,j as f}from"./index-50ad91ff.js";import{P as C}from"./PageBreadcrumb-2adbd738.js";import{C as x}from"./CustomTable-8273eff0.js";import"./Table-9e7095d0.js";import{o as B}from"./option-e755a7ae.js";import{S as A}from"./sweetalert2.all-c3a7603a.js";import"./Row-a90e51f1.js";import"./Col-6e802f16.js";import"./Anchor-ceb627db.js";import"./Button-825b6efb.js";import"./index-5266a108.js";import"./Card-4e1bc556.js";import"./createWithBsPrefix-d4ec82c8.js";import"./divWithClassName-189ef379.js";import"./Table-b92e9daa.js";import"./Dropdown-3b42b385.js";import"./NavbarContext-4275da30.js";import"./useMergedRefs-e6237522.js";import"./NavContext-578bc096.js";import"./extends-98964cd2.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./useWindow-d34922b0.js";import"./InputGroupContext-cef532f1.js";import"./Button-cbb264fd.js";import"./Badge-ab01f418.js";import"./index-8b12ee39.js";import"./setPrototypeOf-0bb37fbe.js";function v(){const[y,l]=i.useState(!1),[S,h]=i.useState([]),[b,c]=i.useState(1),p=async({page:e,sortBy:a,limit:s,searchBy:u,status:n})=>{var o,m,g;l(!0);try{const t=await B.getVariationList({page:e,sortBy:a,limit:s,searchBy:u,status:n});(t==null?void 0:t.code)==200?(c((o=t==null?void 0:t.data)==null?void 0:o.totalPages),Array.isArray((m=t==null?void 0:t.data)==null?void 0:m.docs)?h((g=t==null?void 0:t.data)==null?void 0:g.docs):console.error("Unexpected response format from subCategoryApi.getCategoryList:",t.data)):(t==null?void 0:t.code)===400||(t==null?void 0:t.code)===401?r.error(t==null?void 0:t.message):r.error(t==null?void 0:t.message)}catch{r.error("Error fetching categories")}finally{l(!1)}};return{loading:y,getList:p,optionsList:S,totalPages:b,updateStatus:async(e,a)=>{try{const s=a==="delete"?"delete":e.status===0?"activate":"deactivate";e.status=a==="delete"?e.status:e.status===0?1:0,e.isDelete=a==="delete"?e.isDelete===0?1:0:e.isDelete,A.fire({title:"Are you sure?",text:`You want to ${s} this option?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Yes, ${s} it!`}).then(async u=>{var n;if(u.isConfirmed){e.categoryId=(n=e.categoryId)==null?void 0:n.id;const o=await B.updateVariation(e,e==null?void 0:e.id);(o==null?void 0:o.code)==200?(r.success(o==null?void 0:o.message),p({page:1,sortBy:"asc ",limit:10,searchBy:"",status:""})):(o==null?void 0:o.code)===400||(o==null?void 0:o.code)===401?r.error(o==null?void 0:o.message):r.error(o==null?void 0:o.message)}})}catch{r.error("Error updating category status")}}}}const Z=()=>{const{loading:y,optionsList:l,getList:S,totalPages:h,updateStatus:b}=v(),[c,p]=i.useState(""),[d,e]=i.useState(1),[a,s]=i.useState(""),u=["S.No.","Option Name","Option Values","Status","Action"],n=[{value:"",label:"All"},{value:"1",label:"Active"},{value:"0",label:"Inactive"}];i.useEffect(()=>{S({page:d,sortBy:"asc",limit:10,searchBy:encodeURIComponent(c),status:a})},[c,d,a]);const o=t=>{p(t.target.value)},m=t=>{e(t)},g=t=>{s(t)};return f.jsxs(f.Fragment,{children:[f.jsx(C,{title:"Options Tables",subName:"Tables"}),f.jsx(x,{loading:y,data:l,addButtonName:"Add Options",navigationUrl:"/products/options",isImage:"hide",columns:u,totalPages:h,pageNumber:d,filterBy:"status",filterValue:n,status:a,isSlug:!1,onPageChange:m,updateStatus:b,changeStatus:g,searchTerm:c,handleInputChange:o,isAction:!0})]})};export{Z as default};
