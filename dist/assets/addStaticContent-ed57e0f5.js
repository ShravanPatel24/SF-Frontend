import{k as j,j as t,r as s,i as D,B as x}from"./index-50ad91ff.js";import{P as E}from"./PageBreadcrumb-2adbd738.js";import{S as F}from"./Spinner-57400a8f.js";import"./Table-9e7095d0.js";import{s as d}from"./staticContent-6d7c3e4d.js";import{R}from"./index-417bbafc.js";/* empty css                     */import{R as S}from"./Row-a90e51f1.js";import{C as m}from"./Col-6e802f16.js";import{C}from"./Card-4e1bc556.js";import{F as i}from"./Form-57b1e97c.js";import{B as b}from"./Button-cbb264fd.js";import"./Anchor-ceb627db.js";import"./Button-825b6efb.js";import"./index-8b12ee39.js";import"./createWithBsPrefix-d4ec82c8.js";import"./divWithClassName-189ef379.js";const A=()=>{const[n,y]=s.useState(!1),[p,u]=s.useState(""),[v,P]=s.useState(""),[g,f]=s.useState(""),[h,l]=s.useState(!1),{slug:r}=j(),N=D();s.useEffect(()=>{(async()=>{var c;if(r)try{const a=await d.getStaticContentDetails(r);(a==null?void 0:a.code)===200&&(P(a.data.id),u(a.data.pageTitle),f((c=a.data.description)==null?void 0:c.replace(/&lt;/g,"<").replace(/&lt;/g,"<")))}catch(a){console.error("Error fetching category:",a)}})()},[r]);const k=async o=>{if(o.currentTarget.checkValidity()===!1)o.preventDefault(),o.stopPropagation();else{o.preventDefault(),l(!0);try{const a={pageTitle:p,description:g},e=r?await d.updateStaticContent(a,v):await d.addStaticContent(a);console.log("res",e==null?void 0:e.code),(e==null?void 0:e.code)===200?(l(!1),x.success(e==null?void 0:e.message),N("/static-content")):((e==null?void 0:e.code)===400||(e==null?void 0:e.code)===401)&&x.error(e==null?void 0:e.message)}finally{l(!1)}}y(!0)},w={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{header:[!1,1,2,3,4,5,6]},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","image","video"],["clean"]]},B=o=>{f(o)};return t.jsx(C,{children:t.jsx(C.Body,{children:t.jsxs(i,{noValidate:!0,validated:n,onSubmit:k,children:[t.jsxs(S,{children:[t.jsx(m,{lg:12,children:t.jsxs(i.Group,{className:"mb-3",children:[t.jsx(i.Label,{children:"Page Name"}),t.jsx(i.Control,{type:"text",id:"validationCustom01",placeholder:"Page Name",name:"pageName",value:p,onChange:o=>u(o.target.value),readOnly:!0}),t.jsx(i.Control.Feedback,{type:"invalid",children:"Please fill the Page Name."})]})}),t.jsx(m,{lg:12,children:t.jsx(R,{modules:w,value:g,theme:"snow",style:{height:400},className:"pb-4 mb-2",onChange:B})})]}),h?t.jsxs(b,{variant:"primary",disabled:!0,children:[t.jsx(F,{className:"spinner-border-sm",tag:"span",color:"white"})," ","Loading..."]}):t.jsx(b,{variant:"primary",type:"submit",disabled:h,children:"Submit"})]})})})},Z=()=>{const{slug:n}=j();return t.jsxs(t.Fragment,{children:[t.jsx(E,{title:n?"Edit Static Content":"Add Static Content",subName:"Static Content"}),t.jsx(S,{children:t.jsx(m,{lg:12,children:t.jsx(A,{})})})]})};export{Z as default};
