import{k as j,j as e,r as s,i as B,B as x}from"./index-50ad91ff.js";import{P as E}from"./PageBreadcrumb-2adbd738.js";import{S as F}from"./Spinner-57400a8f.js";import"./Table-9e7095d0.js";import{C as d}from"./careers-bd236965.js";import{R}from"./index-417bbafc.js";/* empty css                     */import{R as y}from"./Row-a90e51f1.js";import{C as m}from"./Col-6e802f16.js";import{C}from"./Card-4e1bc556.js";import{F as i}from"./Form-57b1e97c.js";import{B as b}from"./Button-cbb264fd.js";import"./Anchor-ceb627db.js";import"./Button-825b6efb.js";import"./index-8b12ee39.js";import"./createWithBsPrefix-d4ec82c8.js";import"./divWithClassName-189ef379.js";const T=()=>{const[l,v]=s.useState(!1),[p,u]=s.useState(""),[S,k]=s.useState(""),[f,g]=s.useState(""),[h,n]=s.useState(!1),{id:o}=j(),w=B();s.useEffect(()=>{(async()=>{var c;if(o)try{const a=await d.getCareersDetails(o);(a==null?void 0:a.code)===200&&(k(a.data.id),g(a.data.title),u((c=a.data.description)==null?void 0:c.replace(/&lt;/g,"<").replace(/&lt;/g,"<")))}catch(a){console.error("Error fetching category:",a)}})()},[o]);const D=async r=>{if(r.currentTarget.checkValidity()===!1)r.preventDefault(),r.stopPropagation();else{r.preventDefault(),n(!0);try{const a={description:p,title:f},t=o?await d.updateCareers(a,S):await d.addCareers(a);console.log("res",t==null?void 0:t.code),(t==null?void 0:t.code)===200?(n(!1),x.success(t==null?void 0:t.message),w("/careers")):((t==null?void 0:t.code)===400||(t==null?void 0:t.code)===401)&&x.error(t==null?void 0:t.message)}finally{n(!1)}}v(!0)},N={toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{header:[!1,1,2,3,4,5,6]},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","image","video"],["clean"]]},P=r=>{u(r)};return e.jsx(C,{children:e.jsx(C.Body,{children:e.jsxs(i,{noValidate:!0,validated:l,onSubmit:D,children:[e.jsxs(y,{children:[e.jsx(m,{lg:12,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Title"}),e.jsx(i.Control,{type:"text",id:"validationCustom01",placeholder:"Title",name:"pageName",value:f,onChange:r=>g(r.target.value),required:!0}),e.jsx(i.Control.Feedback,{type:"invalid",children:"Please fill the Title."})]})}),e.jsxs(m,{lg:12,children:[e.jsx(i.Label,{children:"Description"}),e.jsx(R,{modules:N,value:p,theme:"snow",style:{height:400},className:"pb-4 mb-2",onChange:P})]})]}),h?e.jsxs(b,{variant:"primary",disabled:!0,children:[e.jsx(F,{className:"spinner-border-sm",tag:"span",color:"white"})," ","Loading..."]}):e.jsx(b,{variant:"primary",type:"submit",disabled:h,children:"Submit"})]})})})},Z=()=>{const{id:l}=j();return e.jsxs(e.Fragment,{children:[e.jsx(E,{title:l?"Edit Careers":"Add Careers",subName:"Careers"}),e.jsx(y,{children:e.jsx(m,{lg:12,children:e.jsx(T,{})})})]})};export{Z as default};
